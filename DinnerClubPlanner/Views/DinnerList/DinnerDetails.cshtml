@using System.Globalization
@using DinnerClubPlanner.Models

<h2>Dinner Details</h2>

@{
    var lists = (Tuple<List<UserEvent>, List<UserEvent>>) Model;
}

<h3>Attendants</h3>
@{
    if (lists.Item1.Any())
    {
        <div class="table-responsive">
            <table class="table">
                <tr>
                    <th>User</th>
                </tr>
                @foreach (UserEvent item in lists.Item1)
                {
                    var username = item.UserName;

                    <tr>
                        <td>@Html.DisplayFor(modelItem => username)</td>
                    </tr>
                }
            </table>
        </div>
    }
    else
    {
        <p>No users attending this dinner.</p>
    }
}




<h3>Cancellations</h3>

@{
    if (lists.Item2.Any())
    {
        <div class="table-responsive">
            <table class="table">
                <tr>
                    <th>Time registered</th>
                    <th>User</th>


                </tr>
                @foreach (UserEvent item in lists.Item2)
                {
                    var date = item.TimeStamp.ToString(CultureInfo.CurrentCulture);
                    var username = item.UserName;

                    <tr>
                        <td>@Html.DisplayFor(modelItem => date)</td>
                        <td>@Html.DisplayFor(modelItem => username)</td>
                    </tr>
                }
            </table>
        </div>
    }
    else
    {
        <p>No cancellations for this dinner.</p>
    }
}



<button class="btn" type="button"
        onclick="location.href = '@Url.Action("List")'">
    &laquo; Back
</button>
